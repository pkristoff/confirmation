<%= f.fields_for :sponsor_covenant do |sc_covenant_fields| %>
  <%= field_set_tag t('field_set.sponsor_eligibility.sponsor_eligibility'), class: 'fieldset' do %>
    <div class="fieldset-div">
      <div class="field">
        <%= sc_covenant_fields.label :sponsor_name, t('label.sponsor_covenant.sponsor_name') %><br/>
        <%= sc_covenant_fields.text_field :sponsor_name %>
      </div>
    </div>
  <% end %>
<% end %>
<%= f.fields_for :sponsor_eligibility do |se_fields| %>
  <%= field_set_tag t('field_set.sponsor_eligibility'), class: 'fieldset' do %>
    <div class="fieldset-div">
      <div class="field">
        <%= se_fields.check_box :sponsor_attends_home_parish, onclick: 'confirmation_toggle().toggle_top(\'#sponsor-covenant-top\', \'toggle\');' %>
        <%= se_fields.label :sponsor_attends_home_parish, t('label.sponsor_eligibility.sponsor_attends_home_parish', home_parish: Visitor.home_parish) %>
      </div>

      <div id="sponsor-covenant-top" class="<%= @candidate.sponsor_eligibility.sponsor_attends_home_parish ? 'hide-div' : 'show-div' %>">
        <div class="field">
          <%= se_fields.label :sponsor_church, t('label.sponsor_eligibility.sponsor_church') %><br/>
          <%= se_fields.text_field :sponsor_eligibility %>
        </div>

        <% pluck_image = PluckCan.image(event_association.scanned_id) %>

        <%= render "candidates/shared/scanned_image",

                   url_for_image: url_for(is_dev ? dev_upload_sponsor_eligibility_image_path(candidate.id) : upload_sponsor_eligibility_image_path(candidate.id)),
                   candidate: candidate,

                   fieldset_text: '',
                   field: :sponsor_eligibility_picture,
                   remove_id: :candidate_sponsor_covenant_attributes_remove_sponsor_eligibility_picture,
                   remove_field: se_fields.hidden_field(:remove_sponsor_eligibility_picture, value: ''),
                   scanned_image: pluck_image,
                   scanned_image_field: se_fields.file_field(:sponsor_eligibility_picture, accept: SideBar::IMAGE_FILE_TYPES, onchange: "confirmation_toggle().scanned_image_chosen('candidate_sponsor_covenant_attributes_remove_sponsor_eligibility_picture', 'sponsor_eligibility_picture');"),
                   scanned_image_label: se_fields.label(:sponsor_eligibility_picture, t('label.sponsor_eligibility.sponsor_eligibility_picture'))
        %>

      </div>
    </div>
  <% end %>
<% end %>
