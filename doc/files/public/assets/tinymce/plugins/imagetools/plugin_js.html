<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>plugin.js</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            plugin.js
        </h1>
        <ul class="files">
            <li>public/assets/tinymce/plugins/imagetools/plugin.js</li>
            <li>Last modified: 2016-09-23 19:31:46 -0400</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>!function(){var a={},b=function(b){for(var <a
href="b">c=a</a>,e=c.deps,f=c.defn,g=e.length,h=new <a
href="i">Array(g),i=0;g>i;++i)h</a>=<a href="i">d(e</a>);var
j=f.apply(null,h);if(void 0===j)throw“module [”<code>b</code>“] returned
undefined”;c.instance=j},c=function(b,c,d){if(“string”!=typeof
b)throw“module id must be a string”;if(void 0===c)throw“no dependencies for
”+b;if(void 0===d)throw“no definition function for ”+<a
href="b">b;a</a>={deps:c,defn:d,instance:void 0}},d=function©{var <a
href="c">d=a</a>;if(void 0===d)throw“module [”<code>c</code>“] was
undefined”;return void
0===d.instance&amp;&amp;b©,d.instance},e=function(a,b){for(var
c=a.length,e=new <a
href="f">Array©,f=0;c>f;++f)e.push(d(a</a>));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var
g=c,h=function(a,b){g(a,[],function(){return
b})};h(“1”,tinymce.PluginManager),h(“2”,tinymce.Env),h(“3”,tinymce.util.Promise),h(“4”,tinymce.util.URI),h(“5”,tinymce.util.Tools),h(“6”,tinymce.util.Delay),g(“j”,[],function(){function
a(a,b){return c(document.createElement(“canvas”),a,b)}function b(a){return
a.getContext(“2d”)}function c(a,b,c){return
a.width=b,a.height=c,a}return{create:a,resize:c,get2dContext:b}}),g(“k”,[],function(){function
a(a){return a.naturalWidth||a.width}function b(a){return
a.naturalHeight||a.height}return{getWidth:a,getHeight:b}}),g(“l”,[],function(){function
a(a,b){return function(){a.apply(b,arguments)}}function
b(b){if(“object”!=typeof this)throw new TypeError(“Promises must be
constructed via new”);if(“function”!=typeof b)throw new TypeError(“not a
function”);this._state=null,this._value=null,this._deferreds=[],h(b,a(d,this),a(e,this))}function
c(a){var b=this;return null===this._state?void this._deferreds.push(a):void
i(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return
void(b._state?a.resolve:a.reject)(b._value);var
d;try{d=c(b._value)}catch(e){return void
a.reject(e)}a.resolve(d)})}function d(b){try{if(b===this)throw new
TypeError(“A promise cannot be resolved with
itself.”);if(b&amp;&amp;(“object”==typeof b||“function”==typeof b)){var
c=b.then;if(“function”==typeof c)return void
h(a(c,b),a(d,this),a(e,this))}this._state=!0,this._value=b,f.call(this)}catch(g){e.call(this,g)}}function
e(a){this._state=!1,this._value=a,f.call(this)}function f(){for(var <a
href="a">a=0,b=this._deferreds.length;b>a;a++)c.call(this,this._deferreds</a>);this._deferreds=null}function
g(a,b,c,d){this.onFulfilled=“function”==typeof
a?a:null,this.onRejected=“function”==typeof
b?b:null,this.resolve=c,this.reject=d}function h(a,b,c){var
d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}if(window.Promise)return
window.Promise;var i=b.immediateFn||“function”==typeof
setImmediate&amp;&amp;setImmediate||function(a){setTimeout(a,1)},j=Array.isArray||function(a){return“[object
Array]”===Object.prototype.toString.call(a)};return <a
href=""catch"">b.prototype</a>=function(a){return
this.then(null,a)},b.prototype.then=function(a,d){var e=this;return new
b(function(b,f){c.call(e,new g(a,d,b,f))})},b.all=function(){var <a
href="0">a=Array.prototype.slice.call(1===arguments.length&&j(arguments</a>)?<a
href="0">arguments</a>:arguments);return new b(function(b,c){function
d(f,g){try{if(g&amp;&amp;(“object”==typeof g||“function”==typeof g)){var
h=g.then;if(“function”==typeof h)return void
h.call(g,function(a){d(f,a)},c)}<a
href="f">a</a>=g,0===–e&amp;&amp;b(a)}catch(i){c(i)}}if(0===a.length)return
b([]);for(var <a
href="f">e=a.length,f=0;f<a.length;f++)d(f,a</a>)})},b.resolve=function(a){return
a&amp;&amp;“object”==typeof a&amp;&amp;a.constructor===b?a:new
b(function(b){b(a)})},b.reject=function(a){return new
b(function(b,c){c(a)})},b.race=function(a){return new
b(function(b,c){for(var <a
href="d">d=0,e=a.length;e>d;d++)a</a>.then(b,c)})},b}),g(“m”,[],function(){function
a(a){var b=document.createElement(“a”);return b.href=a,b.pathname}function
b(b){var <a
href="c.length-1">c=a(b).split(“.”),d=c</a>,e={jpg:“image/jpeg”,jpeg:“image/jpeg”,png:“image/png”};return
<a href="d">d&&(d=d.toLowerCase()),e</a>}return{guessMimeType:b}}),<a
href=""l","j","m","k"">g(“c”,</a>,function(a,b,c,d){function e(b){return
new a(function(a){function
c(){b.removeEventListener(“load”,c),a(b)}b.complete?a(b):b.addEventListener(“load”,c)})}function
f(a){return e(a).then(function(a){var c,e;return
e=b.create(d.getWidth(a),d.getHeight(a)),c=b.get2dContext(e),c.drawImage(a,0,0),e})}function
g(a){return e(a).then(function(a){var b=a.src;return
0===b.indexOf(“blob:”)?i(b):0===b.indexOf(“data:”)?j(b):f(a).then(function(a){return
j(a.toDataURL(c.guessMimeType(b)))})})}function h(b){return new
a(function(a){function c(){d.removeEventListener(“load”,c),a(d)}var d=new
Image;d.addEventListener(“load”,c),d.src=URL.createObjectURL(b),d.complete&amp;&amp;c()})}function
i(b){return new a(function(a){var c=new
XMLHttpRequest;c.open(“GET”,b,!0),c.responseType=“blob”,c.onload=function(){200==this.status&amp;&amp;a(this.response)},c.send()})}function
j(b){return new a(function(a){var <a
href="^;">c,d,e,f,g,h;if(b=b.split(“,”),f=/data:(</a>+)/.<a
href="0">exec(b</a>),<a href="1">f&&(g=f</a>),<a
href="1">c=atob(b</a>),window.WebKitBlobBuilder){for(h=new
WebKitBlobBuilder,d=new <a
href="e">ArrayBuffer(c.length),e=0;e<d.length;e++)d</a>=c.charCodeAt(e);return
h.append(d),void a(h.getBlob(g))}for(d=new <a
href="e">Uint8Array(c.length),e=0;e<d.length;e++)d</a>=c.charCodeAt(e);a(new
<a href="d">Blob(</a>,{type:g}))})}function k(a){return
0===a.indexOf(“blob:”)?i(a):0===a.indexOf(“data:”)?j(a):null}function
l(a,b){return j(a.toDataURL(b))}function m(b){return new a(function(a){var
c=new
FileReader;c.onloadend=function(){a(c.result)},c.readAsDataURL(b)})}function
n(a){return m(a).then(function(a){return <a
href="1">a.split(“,”)</a>})}function
o(a){URL.revokeObjectURL(a.src)}return{blobToImage:h,imageToBlob:g,blobToDataUri:m,blobToBase64:n,imageToCanvas:f,canvasToBlob:l,revokeImageUrl:o,uriToBlob:k}}),g(“n”,[],function(){function
a(a,b,c){return a=parseFloat(a),a&gt;c?a=c:b&gt;a&amp;&amp;(a=b),a}function
b(){<a
href="1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1">return</a>}function
c(a,b){var c,d,e,f,g=[],h=new Array(10);for(c=0;5&gt;c;c++){<a
href="d">for(d=0;5>d;d++)g</a>=<a href="d+5*c">b</a>;for(d=0;5&gt;d;d++){<a
href="d+5*e">for(f=0,e=0;5>e;e++)f+=a</a>*<a href="e">g</a>;<a
href="d+5*c">h</a>=f}}return h}function d(b,c){return
c=a(c,0,1),b.map(function(b,d){return
d%6===0?b=1-(1-b)<strong>c:b</strong>=c,a(b,0,1)})}function e(b,d){var
e;return <a
href="d">d=a(d,-1,1),d*=100,0>d?e=127+d/100*127:(e=d%1,e=0===e?l</a>:<a
href="Math.floor(d)">l</a>*(<a href="Math.floor(d)+1">1-e)+l</a>*<a
href="e/127,0,0,0,.5*(127-e),0,e/127,0,0,.5*(127-e),0,0,e/127,0,.5*(127-e),0,0,0,1,0,0,0,0,0,1">e,e=127*e+127),c(b,</a>)}function
f(b,d){var e,f,g,h;return <a
href="f*(1-e)+e,g*(1-e),h*(1-e),0,0,f*(1-e),g*(1-e)+e,h*(1-e),0,0,f*(1-e),g*(1-e),h*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1">d=a(d,-1,1),e=1+(d>0?3*d:d),f=.3086,g=.6094,h=.082,c(b,</a>)}function
g(b,d){var e,f,g,h,i;return <a
href="g+e*(1-g)+f*-g,h+e*-h+f*-h,i+e*-i+f*(1-i),0,0,g+e*-g+.143*f,h+e*(1-h)+.14*f,i+e*-i+f*-.283,0,0,g+e*-g+f*-(1-g),h+e*-h+f*h,i+e*(1-i)+f*i,0,0,0,0,0,1,0,0,0,0,0,1">d=a(d,-180,180)/180*Math.PI,e=Math.cos(d),f=Math.sin(d),g=.213,h=.715,i=.072,c(b,</a>)}function
h(b,d){return <a
href="1,0,0,0,d,0,1,0,0,d,0,0,1,0,d,0,0,0,1,0,0,0,0,0,1">d=a(255*d,-255,255),c(b,</a>)}function
i(b,d,e,f){return <a
href="d,0,0,0,0,0,e,0,0,0,0,0,f,0,0,0,0,0,1,0,0,0,0,0,1">d=a(d,0,2),e=a(e,0,2),f=a(f,0,2),c(b,</a>)}function
j(b,e){return <a
href=".393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1">e=a(e,0,1),c(b,d(</a>,e))}function
k(b,e){return <a
href=".33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1">e=a(e,0,1),c(b,d(</a>,e))}var
<a
href="0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10">l=</a>;return{identity:b,adjust:d,multiply:c,adjustContrast:e,adjustBrightness:h,adjustSaturation:f,adjustHue:g,adjustColors:i,adjustSepia:j,adjustGrayscale:k}}),<a
href=""j","k","c","n"">g(“a”,</a>,function(a,b,c,d){function e(d,e){return
c.blobToImage(d).then(function(d){function f(a,b){var <a
href="0">c,d,e,f,g,h=a.data,i=b</a>,<a href="1">j=b</a>,<a
href="2">k=b</a>,<a href="3">l=b</a>,<a href="4">m=b</a>,<a
href="5">n=b</a>,<a href="6">o=b</a>,<a href="7">p=b</a>,<a
href="8">q=b</a>,<a href="9">r=b</a>,<a href="10">s=b</a>,<a
href="11">t=b</a>,<a href="12">u=b</a>,<a href="13">v=b</a>,<a
href="14">w=b</a>,<a href="15">x=b</a>,<a href="16">y=b</a>,<a
href="17">z=b</a>,<a href="18">A=b</a>,<a href="19">B=b</a>;<a
href="g">for(g=0;g<h.length;g+=4)c=h</a>,<a href="g+1">d=h</a>,<a
href="g+2">e=h</a>,<a href="g+3">f=h</a>,<a href="g">h</a>=<a
href="g+1">c*i+d*j+e*k+f*l+m,h</a>=<a href="g+2">c*n+d*o+e*p+f*q+r,h</a>=<a
href="g+3">c*s+d*t+e*u+f*v+w,h</a>=c*x+d*y+e*z+f*A+B;return a}var
g,h=a.create(b.getWidth(d),b.getHeight(d)),i=a.get2dContext(h);return
i.drawImage(d,0,0),k(d),g=f(i.getImageData(0,0,h.width,h.height),e),i.putImageData(g,0,0),c.canvasToBlob(h)})}function
f(d,e){return c.blobToImage(d).then(function(d){function f(a,b,c){function
d(a,b,c){return a&gt;c?a=c:b&gt;a&amp;&amp;(a=b),a}var
e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(g=Math.round(Math.sqrt(c.length)),h=Math.floor(g/2),e=a.data,f=b.data,t=a.width,u=a.height,j=0;u&gt;j;j++)for(i=0;t&gt;i;i++){<a
href="o*g+n">for(k=l=m=0,o=0;g>o;o++)for(n=0;g>n;n++)p=d(i+n-h,0,t-1),q=d(j+o-h,0,u-1),r=4*(q*t+p),s=c</a>,<a
href="r">k+=e</a>*<a href="r+1">s,l+=e</a>*<a href="r+2">s,m+=e</a>*<a
href="r">s;r=4*(j*t+i),f</a>=<a href="r+1">d(k,0,255),f</a>=<a
href="r+2">d(l,0,255),f</a>=d(m,0,255)}return b}var
g,h,i=a.create(b.getWidth(d),b.getHeight(d)),j=a.get2dContext(i);return
j.drawImage(d,0,0),k(d),g=j.getImageData(0,0,i.width,i.height),h=j.getImageData(0,0,i.width,i.height),h=f(g,h,e),j.putImageData(h,0,0),c.canvasToBlob(i)})}function
g(d){return function(e,f){return c.blobToImage(e).then(function(e){function
g(a,b){var <a href="c">c,d=a.data;for(c=0;c<d.length;c+=4)d</a>=<a
href="c">b[d</a>],<a href="c+1">d</a>=<a href="c+1">b[d</a>],<a
href="c+2">d</a>=<a href="c+2">b[d</a>];return a}var
h,i,j=a.create(b.getWidth(e),b.getHeight(e)),l=a.get2dContext(j),m=new <a
href="i">Array(256);for(i=0;i<m.length;i++)m</a>=d(i,f);return
l.drawImage(e,0,0),k(e),h=g(l.getImageData(0,0,j.width,j.height),m),l.putImageData(h,0,0),c.canvasToBlob(j)})}}function
h(a){return function(b,c){return e(b,a(d.identity(),c))}}function
i(a){return function(b){return e(b,a)}}function j(a){return
function(b){return f(b,a)}}var k=c.revokeImageUrl;return{<a
href="-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0">invert:i(</a>),brightness:h(d.adjustBrightness),hue:h(d.adjustHue),saturate:h(d.adjustSaturation),contrast:h(d.adjustContrast),grayscale:h(d.adjustGrayscale),sepia:h(d.adjustSepia),colorize:function(a,b,c,f){return
e(a,d.adjustColors(d.identity(),b,c,f))},<a
href="0,-1,0,-1,5,-1,0,-1,0">sharpen:j(</a>),<a
href="-2,-1,0,-1,1,1,0,1,2">emboss:j(</a>),gamma:g(function(a,b){return
255*Math.pow(a/255,1-b)}),exposure:g(function(a,b){return
255*(1-Math.exp(-(a/255)*b))}),colorFilter:e,convoluteFilter:f}}),<a
href=""c","j","k"">g(“b”,</a>,function(a,b,c){function d(d,e){return
a.blobToImage(d).then(function(f){var
g=b.create(c.getWidth(f),c.getHeight(f)),i=b.get2dContext(g),j=0,k=0;return
e=0&gt;e?360+e:e,90!=e&amp;&amp;270!=e||b.resize(g,g.height,g.width),90!=e&amp;&amp;180!=e||(j=g.width),270!=e&amp;&amp;180!=e||(k=g.height),i.translate(j,k),i.rotate(e*Math.PI/180),i.drawImage(f,0,0),h(f),a.canvasToBlob(g,d.type)})}function
e(d,e){return a.blobToImage(d).then(function(d){var
f=b.create(c.getWidth(d),c.getHeight(d)),g=b.get2dContext(f);return“v”==e?(g.scale(1,-1),g.drawImage(d,0,-f.height)):(g.scale(-1,1),g.drawImage(d,-f.width,0)),h(d),a.canvasToBlob(f)})}function
f(c,d,e,f,g){return a.blobToImage©.then(function©{var
i=b.create(f,g),j=b.get2dContext(i);return
j.drawImage(c,-d,-e),h©,a.canvasToBlob(i)})}function g(c,d,e){return
a.blobToImage©.then(function(f){var
g=b.create(d,e),i=b.get2dContext(g);return
i.drawImage(f,0,0,d,e),h(f),a.canvasToBlob(g,c.type)})}var
h=a.revokeImageUrl;return{rotate:d,flip:e,crop:f,resize:g}}),<a
href=""a","b"">g(“7”,</a>,function(a,b){var c=function(b){return
a.invert(b)},d=function(b){return a.sharpen(b)},e=function(b){return
a.emboss(b)},f=function(b,c){return a.gamma(b,c)},g=function(b,c){return
a.exposure(b,c)},h=function(b,c,d,e){return
a.colorize(b,c,d,e)},i=function(b,c){return
a.brightness(b,c)},j=function(b,c){return
a.hue(b,c)},k=function(b,c){return a.saturate(b,c)},l=function(b,c){return
a.contrast(b,c)},m=function(b,c){return
a.grayscale(b,c)},n=function(b,c){return
a.sepia(b,c)},o=function(a,c){return
b.flip(a,c)},p=function(a,c,d,e,f){return
b.crop(a,c,d,e,f)},q=function(a,c,d){return
b.resize(a,c,d)},r=function(a,c){return
b.rotate(a,c)};return{invert:c,sharpen:d,emboss:e,brightness:i,hue:j,saturate:k,contrast:l,grayscale:m,sepia:n,colorize:h,gamma:f,exposure:g,flip:o,crop:p,resize:q,rotate:r}}),<a
href=""c"">g(“8”,</a>,function(a){var b=function(b){return
a.blobToImage(b)},c=function(b){return
a.imageToBlob(b)},d=function(b){return
a.blobToDataUri(b)},e=function(b){return
a.blobToBase64(b)};return{blobToImage:b,imageToBlob:c,blobToDataUri:d,blobToBase64:e}}),<a
href=""s","p","q","5","t","u"">h(“d”,tinymce.dom.DOMUtils),h(“e”,tinymce.ui.Factory),h(“f”,tinymce.ui.Form),h(“g”,tinymce.ui.Container),h(“o”,tinymce.ui.Control),h(“p”,tinymce.ui.DragHelper),h(“q”,tinymce.geom.Rect),h(“s”,tinymce.dom.DomQuery),h(“t”,tinymce.util.Observable),h(“u”,tinymce.util.VK),g(“r”,</a>,function(a,b,c,d,e,f){var
g=0;return function(h,i,j,k,l){function
m(a,b){return{x:b.x+a.x,y:b.y+a.y,w:b.w,h:b.h}}function
n(a,b){return{x:b.x-a.x,y:b.y-a.y,w:b.w,h:b.h}}function o(){return
n(j,h)}function p(a,b,d,e){var
f,g,i,k,l;f=b.x,g=b.y,i=b.w,k=b.h,f+=d*a.deltaX,g+=e*a.deltaY,i+=d*a.deltaW,k+=e*a.deltaH,20&gt;i&amp;&amp;(i=20),20&gt;k&amp;&amp;(k=20),l=h=c.clamp({x:f,y:g,w:i,h:k},j,“move”==a.name),l=n(j,l),y.fire(“updateRect”,{rect:l}),v(l)}function
q(){function c(a){var c;return new
b(D,{document:k.ownerDocument,handle:D+“-”+a.name,start:function(){c=h},drag:function(b){p(a,c,b.deltaX,b.deltaY)}})}a(&#39;&lt;div
id=“&#39;<code>D</code>&#39;”
class=“&#39;<code>C</code>&#39;croprect-container” role=“grid”
aria-dropeffect=“execute”&gt;&#39;).appendTo(k),d.each(B,function(b){a(“#”+D,k).append(&#39;&lt;div
id=“&#39;<code>D</code>”-“<code>b</code>&#39;”class=“&#39;<code>C</code>&#39;croprect-block”
style=“display: none”
data-mce-bogus=“all”&gt;&#39;)}),d.each(z,function(b){a(“#”+D,k).append(&#39;&lt;div
id=“&#39;<code>D</code>”-“<code>b.name</code>&#39;”
class=“&#39;<code>C</code>”croprect-handle
“<code>C</code>”croprect-handle-“<code>b.name</code>&#39;”style=“display:
none” data-mce-bogus=“all” role=“gridcell” tabindex=“-1”
aria-label=“&#39;<code>b.label</code>&#39;”
aria-grabbed=“false”&gt;&#39;)}),A=d.map(z,c),s(h),a(k).on(“focusin
focusout”,function(b){a(b.target).attr(“aria-grabbed”,“focus”===b.type)}),a(k).on(“keydown”,function(a){function
b(a,b,d,e,f){a.stopPropagation(),a.preventDefault(),p(c,d,e,f)}var
c;switch(d.each(z,function(b){return
a.target.id==D+“-”+b.name?(c=b,!1):void 0}),a.keyCode){case
f.LEFT:b(a,c,h,-10,0);break;case f.RIGHT:b(a,c,h,10,0);break;case
f.UP:b(a,c,h,0,-10);break;case f.DOWN:b(a,c,h,0,10);break;case f.ENTER:case
f.SPACEBAR:a.preventDefault(),l()}})}function r(b){var
c;c=d.map(z,function(a){return“#”<code>D</code>“-”+a.name}).concat(d.map(B,function(a){return“#”<code>D</code>“-”+a})).join(“,”),b?a(c,k).show():a(c,k).hide()}function
s(b){function
c(b,c){c.h&lt;0&amp;&amp;(c.h=0),c.w&lt;0&amp;&amp;(c.w=0),a(“#”<code>D</code>“-”+b,k).css({left:c.x,top:c.y,width:c.w,height:c.h})}d.each(z,function©{a(“#”<code>D</code>“-”+c.name,k).css({left:b.w*c.xMul+b.x,top:b.h*c.yMul+b.y})}),c(“top”,{x:i.x,y:i.y,w:i.w,h:b.y-i.y}),c(“right”,{x:b.x+b.w,y:b.y,w:i.w-b.x-b.w+i.x,h:b.h}),c(“bottom”,{x:i.x,y:b.y+b.h,w:i.w,h:i.h-b.y-b.h+i.y}),c(“left”,{x:i.x,y:b.y,w:b.x-i.x,h:b.h}),c(“move”,b)}function
t(a){h=a,s(h)}function u(a){i=a,s(h)}function v(a){t(m(j,a))}function
w(a){j=a,s(h)}function x(){d.each(A,function(a){a.destroy()}),A=[]}var
y,z,A,B,C=“mce-”,D=C+“crid-”<code>g+</code>;return
z=[{name:“move”,xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:“Crop
Mask”},{name:“nw”,xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:“Top
Left Crop
Handle”},{name:“ne”,xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:“Top
Right Crop
Handle”},{name:“sw”,xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:“Bottom
Left Crop
Handle”},{name:“se”,xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:“Bottom
Right Crop Handle”}],<a
href=""top","right","bottom","left"">B=</a>,q(k),y=d.extend({toggleVisibility:r,setClampRect:w,setRect:t,getInnerRect:o,setInnerRect:v,setViewPortRect:u,destroy:x},e)}}),<a
href=""o","p","q","5","3","r"">g(“h”,</a>,function(a,b,c,d,e,f){function
g(a){return new e(function(b){function
c(){a.removeEventListener(“load”,c),b(a)}a.complete?b(a):a.addEventListener(“load”,c)})}return
a.extend({Defaults:{classes:“imagepanel”},selection:function(a){return
arguments.length?(this.state.set(“rect”,a),this):this.state.get(“rect”)},imageSize:function(){var
a=this.state.get(“viewRect”);return{w:a.w,h:a.h}},toggleCropRect:function(a){this.state.set(“cropEnabled”,a)},imageSrc:function(a){var
b=this,d=new Image;d.src=a,g(d).then(function(){var <a
href="0">a,e,f=b.state.get(“viewRect”);e=b.$el.find(“img”),e</a>?e.replaceWith(d):b.getEl().appendChild(d),a={x:0,y:0,w:d.naturalWidth,h:d.naturalHeight},b.state.set(“viewRect”,a),b.state.set(“rect”,c.inflate(a,-20,-20)),f&amp;&amp;f.w==a.w&amp;&amp;f.h==a.h||b.zoomFit(),b.repaintImage(),b.fire(“load”)})},zoom:function(a){return
arguments.length?(this.state.set(“zoom”,a),this):this.state.get(“zoom”)},postRender:function(){return
this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var
<a
href="0">a,b,c,d,e,f,g,h=this;g=10,a=h.$el.find(“img”),b=h.getEl().clientWidth,c=h.getEl().clientHeight,d=a</a>.<a
href="0">naturalWidth,e=a</a>.naturalHeight,f=Math.min((b-g)/d,(c-g)/e),f&gt;=1&amp;&amp;(f=1),h.zoom(f)},repaintImage:function(){var
<a
href="0">a,b,c,d,e,f,g,h,i,j;j=this.getEl(),h=this.zoom(),i=this.state.get(“rect”),g=this.$el.find(“img”),e=j.offsetWidth,f=j.offsetHeight,c=g</a>.<a
href="0">naturalWidth*h,d=g</a>.naturalHeight*h,a=Math.max(0,e/2-c/2),b=Math.max(0,f/2-d/2),g.css({left:a,top:b,width:c,height:d}),this.cropRect&amp;&amp;(this.cropRect.setRect({x:i.x*h+a,y:i.y*h+b,w:i.w*h,h:i.h*h}),this.cropRect.setClampRect({x:a,y:b,w:c,h:d}),this.cropRect.setViewPortRect({x:0,y:0,w:e,h:f}))},bindStates:function(){function
a(a){b.cropRect=new
f(a,b.state.get(“viewRect”),b.state.get(“viewRect”),b.getEl(),function(){b.fire(“crop”)}),b.cropRect.on(“updateRect”,function(a){var
c=a.rect,d=b.zoom();c={x:Math.round(c.x/d),y:Math.round(c.y/d),w:Math.round(c.w/d),h:Math.round(c.h/d)},b.state.set(“rect”,c)}),b.on(“remove”,b.cropRect.destroy)}var
b=this;b.state.on(“change:cropEnabled”,function(a){b.cropRect.toggleVisibility(a.value),b.repaintImage()}),b.state.on(“change:zoom”,function(){b.repaintImage()}),b.state.on(“change:rect”,function©{var
d=c.value;b.cropRect||a(d),b.cropRect.setRect(d)})}})}),g(“i”,[],function(){return
function(){function a(a){var b;return
b=f.splice(++g),f.push(a),{state:a,removed:b}}function b(){return <a
href="--g">d()?f</a>:void 0}function c(){return <a
href="++g">e()?f</a>:void 0}function d(){return g&gt;0}function
e(){return-1!=g&amp;&amp;g&lt;f.length-1}var <a
href=""d","5","3","e","f","g","h","7","8","i"">f=[],g=-1;return{data:f,add:a,undo:b,redo:c,canUndo:d,canRedo:e}}}),g(“9”,</a>,function(a,b,c,d,e,f,g,h,i,j){function
k(a){return{blob:a,url:URL.createObjectURL(a)}}function
l(a){a&amp;&amp;URL.revokeObjectURL(a.url)}function
m(a){b.each(a,l)}function n(c,i,n){function o(a){var <a
href="0">b,c,d,e;b=L.find(“#w”)</a>,<a href="0">c=L.find(“#h”)</a>,<a
href="0">d=parseInt(b.value(),10),e=parseInt(c.value(),10),L.find(“#constrain”)</a>.checked()&amp;&amp;ga&amp;&amp;ha&amp;&amp;d&amp;&amp;e&amp;&amp;(“w”==a.control.settings.name?(e=Math.round(d*ia),c.value(e)):(d=Math.round(e*ja),b.value(d))),ga=d,ha=e}function
p(a){return Math.round(100*a)+“%”}function
q(){L.find(“#undo”).disabled(!ka.canUndo()),L.find(“#redo”).disabled(!ka.canRedo()),L.statusbar.find(“#save”).disabled(!ka.canUndo())}function
r(){L.find(“#undo”).disabled(!0),L.find(“#redo”).disabled(!0)}function
s(a){a&amp;&amp;S.imageSrc(a.url)}function t(a){return function(){var
c=b.grep(fa,function(b){return
b.settings.name!=a});b.each(c,function(a){a.hide()}),a.show(),a.focus()}}function
u(a){O=k(a),s(O)}function v(a){c=k(a),s©,m(ka.add©.removed),q()}function
w(){var
a=S.selection();h.crop(c.blob,a.x,a.y,a.w,a.h).then(function(a){v(a),z()})}function
x(a){var b=[].slice.call(arguments,1);return function(){var <a
href="d.blob">d=O||c;a.apply(this,</a>.concat(b)).then(u)}}function
y(a){var b=[].slice.call(arguments,1);return function(){<a
href="c.blob">a.apply(this,</a>.concat(b)).then(v)}}function
z(){s©,l(O),t(M)(),q()}function A(){O&amp;&amp;(v(O.blob),z())}function
B(){var a=S.zoom();2&gt;a&amp;&amp;(a+=.1),S.zoom(a)}function C(){var
a=S.zoom();a&gt;.1&amp;&amp;(a-=.1),S.zoom(a)}function
D(){c=ka.undo(),s©,q()}function E(){c=ka.redo(),s©,q()}function
F(){i(c.blob),L.close()}function G(a){return new
e({layout:“flex”,direction:“row”,labelGap:5,border:“0 0 1
0”,align:“center”,pack:“center”,padding:“0 10 0
10”,spacing:5,flex:0,minHeight:60,defaults:{classes:“imagetool”,type:“button”},items:a})}function
H(a,b){return <a
href="{text:"Back",onclick:z},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:A}">G(</a>).hide().on(“show”,function(){r(),b(c.blob).then(function(a){var
b=k(a);s(b),l(O),O=b})})}function I(a,b,d,e,f){function
g(a){b(c.blob,a).then(function(a){var b=k(a);s(b),l(O),O=b})}return <a
href="{text:"Back",onclick:z},{type:"spacer",flex:1},{type:"slider",flex:1,ondragend:function(a){g(a.value)},minValue:e,maxValue:f,value:d,previewFilter:p},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:A}">G(</a>).hide().on(“show”,function(){this.find(“slider”).value(d),r()})}function
J(a,b){function d(){var <a href="0">a,d,e;a=L.find(“#r”)</a>.<a
href="0">value(),d=L.find(“#g”)</a>.<a
href="0">value(),e=L.find(“#b”)</a>.value(),b(c.blob,a,d,e).then(function(a){var
b=k(a);s(b),l(O),O=b})}return <a
href="{text:"Back",onclick:z},{type:"spacer",flex:1},{type:"slider",label:"R",name:"r",minValue:0,value:1,maxValue:2,ondragend:d,previewFilter:p},{type:"slider",label:"G",name:"g",minValue:0,value:1,maxValue:2,ondragend:d,previewFilter:p},{type:"slider",label:"B",name:"b",minValue:0,value:1,maxValue:2,ondragend:d,previewFilter:p},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:A}">G(</a>).hide().on(“show”,function(){L.find(“#r,#g,#b”).value(1),r()})}function
K(a){a.control.value()===!0&amp;&amp;(ia=ha/ga,ja=ga/ha)}var
L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka=new <a
href="{text:"Back",onclick:z},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:w}">j;P=G(</a>).hide().on(“show
hide”,function(a){S.toggleCropRect(“show”==a.type)}).on(“show”,r),Q=G([{text:“Back”,onclick:z},{type:“spacer”,flex:1},{type:“textbox”,name:“w”,label:“Width”,size:4,onkeyup:o},{type:“textbox”,name:“h”,label:“Height”,size:4,onkeyup:o},{type:“checkbox”,name:“constrain”,text:“Constrain
proportions”,checked:!0,onchange:K},{type:“spacer”,flex:1},{text:“Apply”,subtype:“primary”,onclick:“submit”}]).hide().on(“submit”,function(a){var
b=parseInt(L.find(“#w”).value(),10),c=parseInt(L.find(“#h”).value(),10);a.preventDefault(),y(h.resize,b,c)(),z()}).on(“show”,r),R=G([{text:“Back”,onclick:z},{type:“spacer”,flex:1},{icon:“fliph”,tooltip:“Flip
horizontally”,onclick:x(h.flip,“h”)},{icon:“flipv”,tooltip:“Flip
vertically”,onclick:x(h.flip,“v”)},{icon:“rotateleft”,tooltip:“Rotate
counterclockwise”,onclick:x(h.rotate,-90)},{icon:“rotateright”,tooltip:“Rotate
clockwise”,onclick:x(h.rotate,90)},{type:“spacer”,flex:1},{text:“Apply”,subtype:“primary”,onclick:A}]).<a
href="{text:"Back",onclick:z},{type:"spacer",flex:1},{text:"hue",icon:"hue",onclick:t(X)},{text:"saturate",icon:"saturate",onclick:t(Y)},{text:"sepia",icon:"sepia",onclick:t(_)},{text:"emboss",icon:"emboss",onclick:t(ca)},{text:"exposure",icon:"exposure",onclick:t(ea)},{type:"spacer",flex:1}">hide().on(“show”,r),V=H(“Invert”,h.invert),ba=H(“Sharpen”,h.sharpen),ca=H(“Emboss”,h.emboss),W=I(“Brightness”,h.brightness,0,-1,1),X=I(“Hue”,h.hue,180,0,360),Y=I(“Saturate”,h.saturate,0,-1,1),Z=I(“Contrast”,h.contrast,0,-1,1),$=I(“Grayscale”,h.grayscale,0,0,1),_=I(“Sepia”,h.sepia,0,0,1),aa=J(“Colorize”,h.colorize),da=I(“Gamma”,h.gamma,0,-1,1),ea=I(“Exposure”,h.exposure,1,0,2),N=G(</a>).hide(),M=G([{tooltip:“Crop”,icon:“crop”,onclick:t(P)},{tooltip:“Resize”,icon:“resize2”,onclick:t(Q)},{tooltip:“Orientation”,icon:“orientation”,onclick:t(R)},{tooltip:“Brightness”,icon:“sun”,onclick:t(W)},{tooltip:“Sharpen”,icon:“sharpen”,onclick:t(ba)},{tooltip:“Contrast”,icon:“contrast”,onclick:t(Z)},{tooltip:“Color
levels”,icon:“drop”,onclick:t(aa)},{tooltip:“Gamma”,icon:“gamma”,onclick:t(da)},{tooltip:“Invert”,icon:“invert”,onclick:t(V)}]),S=new
g({flex:1,imageSrc:c.url}),T=new
f({layout:“flex”,direction:“column”,border:“0 1 0
0”,padding:5,spacing:5,items:[{type:“button”,icon:“undo”,tooltip:“Undo”,name:“undo”,onclick:D},{type:“button”,icon:“redo”,tooltip:“Redo”,name:“redo”,onclick:E},{type:“button”,icon:“zoomin”,tooltip:“Zoom
in”,onclick:B},{type:“button”,icon:“zoomout”,tooltip:“Zoom
out”,onclick:C}]}),U=new f({<a
href="T,S">type:“container”,layout:“flex”,direction:“row”,align:“stretch”,flex:1,items:</a>}),<a
href="M,P,Q,R,N,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea">fa=</a>,L=d.create(“window”,{layout:“flex”,direction:“column”,align:“stretch”,minWidth:Math.min(a.DOM.getViewPort().w,800),minHeight:Math.min(a.DOM.getViewPort().h,650),title:“Edit
<a href="U">image”,items:fa.concat(</a>),<a
href="{text:"Save",name:"save",subtype:"primary",onclick:F},{text:"Cancel",onclick:"close"}">buttons:</a>}),L.renderTo(document.body).reflow(),L.on(“close”,function(){n(),m(ka.data),ka=null,O=null}),ka.add©,q(),S.on(“load”,function(){ga=S.imageSize().w,ha=S.imageSize().h,ia=ha/ga,ja=ga/ha,L.find(“#w”).value(ga),L.find(“#h”).value(ha)}),S.on(“crop”,w)}function
o(a){return new c(function(b,c){n(k(a),b,c)})}return{edit:o}}),<a
href=""1","2","3","4","5","6","7","8","9"">g(“0”,</a>,function(a,b,c,d,e,f,g,h,i){var
j=function(a){function j(b){function c(a){return
a.indexOf(“px”)==a.length-2}var d,e;return
d=b.style.width,e=b.style.height,d||e?c(d)&amp;&amp;c(e)?{w:parseInt(d,10),h:parseInt(e,10)}:null:(d=a.$(b).attr(“width”),e=a.$(b).attr(“height”),d&amp;&amp;e?{w:parseInt(d,10),h:parseInt(e,10)}:null)}function
k(b,c){var
d,e;c&amp;&amp;(d=b.style.width,e=b.style.height,(d||e)&amp;&amp;a.$(b).css({width:c.w,height:c.h}).removeAttr(“data-mce-style”),d=b.width,e=b.height,(d||e)&amp;&amp;a.$(b).attr({width:c.w,height:c.h}))}function
l(a){return{w:a.naturalWidth,h:a.naturalHeight}}function m(){return
a.selection.getNode()}function
n(){return“imagetools”<code>H+</code>}function o(b){var c=b.src;return
0===c.indexOf(“data:”)||0===c.indexOf(“blob:”)||new
d©.host===a.documentBaseURI.host}function
p(b){return-1!==e.inArray(a.settings.imagetools_cors_hosts,new
d(b.src).host)}function q(){return
a.settings.api_key||a.settings.imagetools_api_key}function r(a){return new
c(function(b){var c,d;c=new
XMLHttpRequest,c.onload=function(){b(this.response)},c.open(“GET”,a,!0),d=q(),d&amp;&amp;(c.setRequestHeader(“Content-Type”,“application/json;charset=UTF-8”),c.setRequestHeader(“tiny-api-key”,d)),c.responseType=“blob”,c.send()})}function
s(b){var c=b.src;if(p(b))return
r(b.src);if(!o(b)){if(c=a.settings.imagetools_proxy,c+=(-1===c.indexOf(“?”)?“?”:“&amp;”)+“url=”+encodeURIComponent(b.src),q())return
r©;b=new Image,b.src=c}return h.imageToBlob(b)}function t(){var b;return
b=a.editorUpload.blobCache.getByUri(m().src),b?b:s(m()).then(function(b){return
h.blobToBase64(b).then(function©{var
d=a.editorUpload.blobCache,e=d.create(n(),b,c);return
d.add(e),e})})}function
u(){F=f.setEditorTimeout(a,function(){a.editorUpload.uploadImagesAuto()},3e4)}function
v(){clearTimeout(F)}function w(b,c){return
h.blobToDataUri(b).then(function(e){var f,g,h,i,j;return
j=m(),f=n(),h=a.editorUpload.blobCache,g=d.parseDataUri(e).data,i=h.create(f,b,g),h.add(i),a.undoManager.transact(function(){function
b(){a.$(j).off(“load”,b),a.nodeChanged(),c?a.editorUpload.uploadImagesAuto():(v(),u())}a.$(j).on(“load”,b),a.$(j).attr({src:i.blobUri()}).removeAttr(“data-mce-src”)}),i})}function
x(b){return function(){return
a._scanForImages().then(t).then(b).then(w)}}function y(a){return
function(){return x(function(b){var c=j(m());return
c&amp;&amp;k(m(),{w:c.h,h:c.w}),g.rotate(b.blob(),a)})()}}function
z(a){return function(){return x(function(b){return
g.flip(b.blob(),a)})()}}function A(){var
a=m(),b=l(a);a&amp;&amp;s(a).then(i.edit).then(function(d){return new
c(function©{h.blobToImage(d).then(function(e){var
f=l(e);b.w==f.w&amp;&amp;b.h==f.h||j(a)&amp;&amp;k(a,f),URL.revokeObjectURL(e.src),c(d)})})}).then(function(a){w(a,!0)},function(){})}function
B(){a.addButton(“rotateleft”,{title:“Rotate
counterclockwise”,onclick:y(-90)}),a.addButton(“rotateright”,{title:“Rotate
clockwise”,onclick:y(90)}),a.addButton(“flipv”,{title:“Flip
vertically”,onclick:z(“v”)}),a.addButton(“fliph”,{title:“Flip
horizontally”,onclick:z(“h”)}),a.addButton(“editimage”,{title:“Edit
image”,onclick:A}),a.addButton(“imageoptions”,{title:“Image
options”,icon:“options”,cmd:“mceImage”})}function
C(){a.on(“NodeChange”,function(b){G&amp;&amp;G.src!=b.element.src&amp;&amp;(v(),a.editorUpload.uploadImagesAuto(),G=void
0),D(b.element)&amp;&amp;(G=b.element)})}function D(b){var <a
href="data-mce-object">c=a.dom.is(b,“img:not(</a>,[data-mce-placeholder])”);return
c&amp;&amp;(o(b)||p(b)||a.settings.imagetools_proxy)}function E(){var
b=a.settings.imagetools_toolbar;b||(b=“rotateleft rotateright | flipv fliph
| crop editimage imageoptions”),a.addContextToolbar(D,b)}var
F,G,H=0;b.fileApi&amp;&amp;(B(),E(),C(),a.addCommand(“mceEditImage”,A))};return
a.add(“imagetools”,j),function(){}}),d(“0”)()}();</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
