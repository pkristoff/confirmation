<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Candidate - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="ApplicationRecord.html">ApplicationRecord</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-baptismal_external_verification">::baptismal_external_verification</a>
    
    <li ><a href="#method-c-candidate_params">::candidate_params</a>
    
    <li ><a href="#method-c-confirmation_name_external_verification">::confirmation_name_external_verification</a>
    
    <li ><a href="#method-c-events_external_verification">::events_external_verification</a>
    
    <li ><a href="#method-c-external_verification">::external_verification</a>
    
    <li class="calls-super" ><a href="#method-c-find_first_by_auth_conditions">::find_first_by_auth_conditions</a>
    
    <li ><a href="#method-c-permitted_params">::permitted_params</a>
    
    <li class="calls-super" ><a href="#method-c-reset_password_by_token">::reset_password_by_token</a>
    
    <li ><a href="#method-c-retreat_external_verification">::retreat_external_verification</a>
    
    <li ><a href="#method-c-sponsor_external_verification">::sponsor_external_verification</a>
    
    <li ><a href="#method-i-account_confirmed-3F">#account_confirmed?</a>
    
    <li ><a href="#method-i-add_candidate_event">#add_candidate_event</a>
    
    <li ><a href="#method-i-awaiting_admin_events">#awaiting_admin_events</a>
    
    <li ><a href="#method-i-awaiting_candidate_events">#awaiting_candidate_events</a>
    
    <li ><a href="#method-i-bcc_email">#bcc_email</a>
    
    <li ><a href="#method-i-build_associations">#build_associations</a>
    
    <li ><a href="#method-i-candidate_events_sorted">#candidate_events_sorted</a>
    
    <li ><a href="#method-i-coming_due_events">#coming_due_events</a>
    
    <li ><a href="#method-i-completed">#completed</a>
    
    <li ><a href="#method-i-confirm_account">#confirm_account</a>
    
    <li ><a href="#method-i-confirmation_instructions">#confirmation_instructions</a>
    
    <li ><a href="#method-i-email">#email</a>
    
    <li ><a href="#method-i-email-3D">#email=</a>
    
    <li ><a href="#method-i-email_changed-3F">#email_changed?</a>
    
    <li ><a href="#method-i-email_required-3F">#email_required?</a>
    
    <li ><a href="#method-i-emails">#emails</a>
    
    <li ><a href="#method-i-get_candidate_event">#get_candidate_event</a>
    
    <li ><a href="#method-i-get_event_association">#get_event_association</a>
    
    <li ><a href="#method-i-keep_bc_errors">#keep_bc_errors</a>
    
    <li ><a href="#method-i-late_events">#late_events</a>
    
    <li ><a href="#method-i-password_changed-3F">#password_changed?</a>
    
    <li ><a href="#method-i-password_reset_message">#password_reset_message</a>
    
    <li ><a href="#method-i-send_on_create_confirmation_instructions">#send_on_create_confirmation_instructions</a>
    
    <li ><a href="#method-i-send_reset_password_instructions">#send_reset_password_instructions</a>
    
    <li ><a href="#method-i-validate_creation_complete">#validate_creation_complete</a>
    
    <li ><a href="#method-i-validate_event_complete">#validate_event_complete</a>
    
    <li ><a href="#method-i-verifiable_info">#verifiable_info</a>
    
    <li ><a href="#method-i-will_save_change_to_email-3F">#will_save_change_to_email?</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Candidate">
  <h1 id="class-Candidate" class="class">
    class Candidate
  </h1>

  <section class="description">
    
<p>Person being confirmed</p>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-baptismal_external_verification" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">baptismal_external_verification</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>baptismal certificate needs admin verification</p>

<h3 id="method-c-baptismal_external_verification-label-Parameters-3A">Parameters:<span><a href="#method-c-baptismal_external_verification-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate</code> owner of this association</p>
</li></ul>

<h3 id="method-c-baptismal_external_verification-label-Returns-3A">Returns:<span><a href="#method-c-baptismal_external_verification-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="baptismal_external_verification-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 467</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">baptismal_external_verification</span>
  <span class="ruby-identifier">external_verification</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-string">&#39;events.baptismal_certificate&#39;</span>), <span class="ruby-operator">-&gt;</span>(<span class="ruby-identifier">candidate</span>) { <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">baptismal_certificate</span>.<span class="ruby-identifier">baptized_at_stmm</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">baptismal_certificate</span>.<span class="ruby-identifier">first_comm_at_stmm</span> })
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-candidate_params" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">candidate_params</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Editable attributes</p>

<h3 id="method-c-candidate_params-label-Returns-3A">Returns:<span><a href="#method-c-candidate_params-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of attributes</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="candidate_params-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 143</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">candidate_params</span>
  <span class="ruby-identifier">params</span> = <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">collect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_sym</span>) <span class="ruby-operator">&amp;</span> <span class="ruby-node">%i[account_name password]</span>
  <span class="ruby-comment"># params = params &lt;&lt; :password</span>
  <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-confirmation_name_external_verification" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">confirmation_name_external_verification</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>confirmation name needs admin verification</p>

<h3 id="method-c-confirmation_name_external_verification-label-Parameters-3A">Parameters:<span><a href="#method-c-confirmation_name_external_verification-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate</code> owner of this association</p>
</li></ul>

<h3 id="method-c-confirmation_name_external_verification-label-Returns-3A">Returns:<span><a href="#method-c-confirmation_name_external_verification-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="confirmation_name_external_verification-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 495</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">confirmation_name_external_verification</span>
  <span class="ruby-identifier">external_verification</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-string">&#39;events.confirmation_name&#39;</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-events_external_verification" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">events_external_verification</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>candidate events needs admin verification</p>

<h3 id="method-c-events_external_verification-label-Parameters-3A">Parameters:<span><a href="#method-c-events_external_verification-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate</code> owner of this association</p>
</li></ul>

<h3 id="method-c-events_external_verification-label-Returns-3A">Returns:<span><a href="#method-c-events_external_verification-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code>Boolean</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="events_external_verification-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 549</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">events_external_verification</span>
  [[], <span class="ruby-constant">Candidate</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:account_name</span>), [], []]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-external_verification" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">external_verification</span><span
            class="method-args">(candidate_event_name, external_verification = -&gt;(_candidate) { false }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="external_verification-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 499</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">external_verification</span>(<span class="ruby-identifier">candidate_event_name</span>, <span class="ruby-identifier">external_verification</span> = <span class="ruby-operator">-&gt;</span>(<span class="ruby-identifier">_candidate</span>) { <span class="ruby-keyword">false</span> })
  <span class="ruby-identifier">external</span> = []
  <span class="ruby-identifier">to_be_verified</span> = []
  <span class="ruby-identifier">verified</span> = []
  <span class="ruby-identifier">not_complete</span> = []
  <span class="ruby-constant">Candidate</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:account_name</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">candidate</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">candidate_event</span> = <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">get_candidate_event</span>(<span class="ruby-identifier">candidate_event_name</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">candidate_event</span>.<span class="ruby-identifier">verified</span>
      <span class="ruby-comment"># puts &quot;#{candidate.account_name} verified&quot;</span>
      <span class="ruby-identifier">verified</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">candidate</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">candidate_event</span>.<span class="ruby-identifier">completed_date</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">external_verification</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">candidate</span>)
        <span class="ruby-comment"># puts &quot;#{candidate.account_name} external&quot;</span>
        <span class="ruby-identifier">external</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">candidate</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-comment"># puts &quot;#{candidate.account_name} to be verified&quot;</span>
        <span class="ruby-identifier">to_be_verified</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">candidate</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># puts &quot;#{candidate.account_name} not complete&quot;</span>
      <span class="ruby-identifier">not_complete</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">candidate</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  [<span class="ruby-identifier">external</span>, <span class="ruby-identifier">to_be_verified</span>, <span class="ruby-identifier">verified</span>, <span class="ruby-identifier">not_complete</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_first_by_auth_conditions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_first_by_auth_conditions</span><span
            class="method-args">(tainted_conditions, options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>???</p>

<h3 id="method-c-find_first_by_auth_conditions-label-Returns-3A">Returns:<span><a href="#method-c-find_first_by_auth_conditions-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of conditions</p>
</li></ul>
          
          
            <div class="method-calls-super">
              Calls superclass method
              
            </div>
          

          
          <div class="method-source-code" id="find_first_by_auth_conditions-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">find_first_by_auth_conditions</span>(<span class="ruby-identifier">tainted_conditions</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">login</span> = <span class="ruby-identifier">tainted_conditions</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:account_name</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">login</span>
    <span class="ruby-identifier">conditions</span> = <span class="ruby-identifier">devise_parameter_filter</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">value:</span> <span class="ruby-identifier">login</span>.<span class="ruby-identifier">downcase</span>)
    <span class="ruby-identifier">where</span>([<span class="ruby-string">&#39;lower(account_name) = :value&#39;</span>, <span class="ruby-identifier">conditions</span>]).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-permitted_params" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">permitted_params</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Editable attributes</p>

<h3 id="method-c-permitted_params-label-Returns-3A">Returns:<span><a href="#method-c-permitted_params-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of attributes</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="permitted_params-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">permitted_params</span>
  [<span class="ruby-value">:account_name</span>, <span class="ruby-value">:password</span>, <span class="ruby-value">:password_confirmation</span>,
   <span class="ruby-value">:signed_agreement</span>, <span class="ruby-value">:candidate_note</span>,
   <span class="ruby-value">candidate_sheet_attributes:</span> <span class="ruby-constant">CandidateSheet</span>.<span class="ruby-identifier">permitted_params</span>,
   <span class="ruby-value">baptismal_certificate_attributes:</span> <span class="ruby-constant">BaptismalCertificate</span>.<span class="ruby-identifier">permitted_params</span>,
   <span class="ruby-value">sponsor_covenant_attributes:</span> <span class="ruby-constant">SponsorCovenant</span>.<span class="ruby-identifier">permitted_params</span>,
   <span class="ruby-value">pick_confirmation_name_attributes:</span> <span class="ruby-constant">PickConfirmationName</span>.<span class="ruby-identifier">permitted_params</span>,
   <span class="ruby-value">christian_ministry_attributes:</span> <span class="ruby-constant">ChristianMinistry</span>.<span class="ruby-identifier">permitted_params</span>,
   <span class="ruby-value">candidate_events_attributes:</span> <span class="ruby-constant">CandidateEvent</span>.<span class="ruby-identifier">permitted_params</span>,
   <span class="ruby-value">retreat_verification_attributes:</span> <span class="ruby-constant">RetreatVerification</span>.<span class="ruby-identifier">permitted_params</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-reset_password_by_token" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reset_password_by_token</span><span
            class="method-args">(resource_params)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Confirm user account when changing password</p>

<h3 id="method-c-reset_password_by_token-label-Parameters-3A">Parameters:<span><a href="#method-c-reset_password_by_token-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:resource_params</code> parms necessary to change password</p>
</li></ul>

<h3 id="method-c-reset_password_by_token-label-Returns-3A">Returns:<span><a href="#method-c-reset_password_by_token-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Candidate</code> whose password was changed</p>
</li></ul>
          
          
            <div class="method-calls-super">
              Calls superclass method
              
            </div>
          

          
          <div class="method-source-code" id="reset_password_by_token-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 332</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">reset_password_by_token</span>(<span class="ruby-identifier">resource_params</span>)
  <span class="ruby-identifier">candidate</span> = <span class="ruby-keyword">super</span>(<span class="ruby-identifier">resource_params</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">account_confirmed?</span>
    <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">skip_confirmation!</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">candidate</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-retreat_external_verification" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">retreat_external_verification</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>retreat needs admin verification</p>

<h3 id="method-c-retreat_external_verification-label-Parameters-3A">Parameters:<span><a href="#method-c-retreat_external_verification-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate</code> owner of this association</p>
</li></ul>

<h3 id="method-c-retreat_external_verification-label-Returns-3A">Returns:<span><a href="#method-c-retreat_external_verification-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="retreat_external_verification-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 481</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">retreat_external_verification</span>
  <span class="ruby-identifier">external_verification</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-string">&#39;events.retreat_verification&#39;</span>), <span class="ruby-operator">-&gt;</span>(<span class="ruby-identifier">candidate</span>) { <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">retreat_verification</span>.<span class="ruby-identifier">retreat_held_at_stmm</span> })
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-sponsor_external_verification" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sponsor_external_verification</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>sponsor needs admin verification</p>

<h3 id="method-c-sponsor_external_verification-label-Parameters-3A">Parameters:<span><a href="#method-c-sponsor_external_verification-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate</code> owner of this association</p>
</li></ul>

<h3 id="method-c-sponsor_external_verification-label-Returns-3A">Returns:<span><a href="#method-c-sponsor_external_verification-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="sponsor_external_verification-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 535</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">sponsor_external_verification</span>
  <span class="ruby-identifier">external_verification</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-string">&#39;events.sponsor_covenant&#39;</span>), <span class="ruby-operator">-&gt;</span>(<span class="ruby-identifier">candidate</span>) { <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">sponsor_covenant</span>.<span class="ruby-identifier">sponsor_attends_stmm</span> })
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-account_confirmed-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">account_confirmed?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns whether the User account has been confirmed</p>

<h3 id="method-i-account_confirmed-3F-label-Returns-3A">Returns:<span><a href="#method-i-account_confirmed-3F-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="account_confirmed-3F-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 299</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">account_confirmed?</span>
  <span class="ruby-identifier">confirmed?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-add_candidate_event" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_candidate_event</span><span
            class="method-args">(confirmation_event)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds a candidate event as part of the creation process</p>

<h3 id="method-i-add_candidate_event-label-Parameters-3A">Parameters:<span><a href="#method-i-add_candidate_event-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:confirmation_event</code> common event</p>
</li></ul>

<h3 id="method-i-add_candidate_event-label-Returns-3A">Returns:<span><a href="#method-i-add_candidate_event-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>CandidateEvent</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="add_candidate_event-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 130</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_candidate_event</span>(<span class="ruby-identifier">confirmation_event</span>)
  <span class="ruby-identifier">candidate_event</span> = <span class="ruby-constant">AppFactory</span>.<span class="ruby-identifier">create_candidate_event</span>(<span class="ruby-identifier">confirmation_event</span>)
  <span class="ruby-identifier">candidate_events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">candidate_event</span>
  <span class="ruby-identifier">candidate_event</span>.<span class="ruby-identifier">candidate</span> = <span class="ruby-keyword">self</span>
  <span class="ruby-identifier">candidate_event</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-awaiting_admin_events" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">awaiting_admin_events</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns array of awaiting admin events</p>

<h3 id="method-i-awaiting_admin_events-label-Returns-3A">Returns:<span><a href="#method-i-awaiting_admin_events-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of awaiting admin candidate events</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="awaiting_admin_events-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">awaiting_admin_events</span>
  <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:awaiting_admin?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-awaiting_candidate_events" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">awaiting_candidate_events</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns array of &#39;awaiting candidate&#39; events</p>

<h3 id="method-i-awaiting_candidate_events-label-Returns-3A">Returns:<span><a href="#method-i-awaiting_candidate_events-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of &#39;awaiting candidate&#39; candidate events</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="awaiting_candidate_events-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 431</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">awaiting_candidate_events</span>
  <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:awaiting_candidate?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-bcc_email" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bcc_email</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>If bcc is called use this email  address</p>

<h3 id="method-i-bcc_email-label-Returns-3A">Returns:<span><a href="#method-i-bcc_email-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>String</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bcc_email-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">bcc_email</span>
  <span class="ruby-string">&#39;stmm.confirmation@kristoffs.com&#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-build_associations" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build_associations</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>builds candidate&#39;s associations</p>

<h3 id="method-i-build_associations-label-Returns-3A">Returns:<span><a href="#method-i-build_associations-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="build_associations-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 155</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">build_associations</span>
  <span class="ruby-identifier">candidate_sheet</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">build_candidate_sheet</span>
  <span class="ruby-identifier">baptismal_certificate</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">build_baptismal_certificate</span>
  <span class="ruby-identifier">sponsor_covenant</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">build_sponsor_covenant</span>
  <span class="ruby-identifier">pick_confirmation_name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">build_pick_confirmation_name</span>
  <span class="ruby-identifier">christian_ministry</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">build_christian_ministry</span>
  <span class="ruby-identifier">retreat_verification</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">build_retreat_verification</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-candidate_events_sorted" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">candidate_events_sorted</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sorts candidate events in priorty order (to be cmpleted first)</p>

<h3 id="method-i-candidate_events_sorted-label-Returns-3A">Returns:<span><a href="#method-i-candidate_events_sorted-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> candidate events</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="candidate_events_sorted-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">candidate_events_sorted</span>
  <span class="ruby-comment"># TODO: rewrite using event states</span>
  <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">sort</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ce1</span>, <span class="ruby-identifier">ce2</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># in order for this to work due_dates should not be nil.</span>
    <span class="ruby-comment"># if they are move them to the top so admin can give them</span>
    <span class="ruby-comment"># one.</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ce1</span>.<span class="ruby-identifier">due_date</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">due_date</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">ce1</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">name</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-value">-1</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">due_date</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-value">1</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">ce1</span>.<span class="ruby-identifier">completed_date</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-comment"># due_dates filled in.</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">completed_date</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-comment"># if neither completed then the first to come</span>
        <span class="ruby-comment"># due is first</span>
        <span class="ruby-identifier">due_date</span> = <span class="ruby-identifier">ce1</span>.<span class="ruby-identifier">due_date</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">due_date</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">due_date</span>.<span class="ruby-identifier">zero?</span>
          <span class="ruby-identifier">ce1</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">name</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">due_date</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-comment"># non completed goes on top.</span>
        <span class="ruby-value">-1</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">completed_date</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-comment"># non completed goes on top.</span>
      <span class="ruby-value">1</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># if both are completed then the first to come</span>
      <span class="ruby-comment"># due is on top</span>
      <span class="ruby-identifier">due_date</span> = <span class="ruby-identifier">ce1</span>.<span class="ruby-identifier">due_date</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">due_date</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">due_date</span>.<span class="ruby-identifier">zero?</span>
        <span class="ruby-identifier">ce1</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">ce2</span>.<span class="ruby-identifier">name</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">due_date</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-coming_due_events" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">coming_due_events</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns array of coming due events</p>

<h3 id="method-i-coming_due_events-label-Returns-3A">Returns:<span><a href="#method-i-coming_due_events-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of coming due candidate events</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="coming_due_events-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 421</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">coming_due_events</span>
  <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:coming_due?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-completed" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">completed</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns array of completed events</p>

<h3 id="method-i-completed-label-Returns-3A">Returns:<span><a href="#method-i-completed-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of completed candidate events</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="completed-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">completed</span>
  <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:completed?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-confirm_account" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">confirm_account</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>confirm the user account</p>

<h3 id="method-i-confirm_account-label-Returns-3A">Returns:<span><a href="#method-i-confirm_account-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="confirm_account-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">confirm_account</span>
  <span class="ruby-identifier">confirm</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-confirmation_instructions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">confirmation_instructions</span><span
            class="method-args">(candidate_mailer_text)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>get expanded account confirmation instructions</p>

<h3 id="method-i-confirmation_instructions-label-Parameters-3A">Parameters:<span><a href="#method-i-confirmation_instructions-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate_mailer_text</code> expands instructions</p>
</li></ul>

<h3 id="method-i-confirmation_instructions-label-Returns-3A">Returns:<span><a href="#method-i-confirmation_instructions-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>String</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="confirmation_instructions-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 593</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">confirmation_instructions</span>(<span class="ruby-identifier">candidate_mailer_text</span>)
  <span class="ruby-identifier">token</span> = <span class="ruby-identifier">generate_confirmation_token</span>
  <span class="ruby-identifier">candidate_mailer_text</span>.<span class="ruby-identifier">token</span> = <span class="ruby-identifier">token</span>
  <span class="ruby-identifier">devise_mailer</span>.<span class="ruby-identifier">confirmation_instructions</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">token</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-email" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">email</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns the canidates email - used by Factory Girl</p>

<h3 id="method-i-email-label-Returns-3A">Returns:<span><a href="#method-i-email-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>String</code> email address</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="email-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">email</span>
  <span class="ruby-identifier">candidate_sheet</span>.<span class="ruby-identifier">candidate_email</span>.<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-email-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">email=</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>sets canidates email to value - used by Factory Girl</p>

<h3 id="method-i-email-3D-label-Parameters-3A">Parameters:<span><a href="#method-i-email-3D-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:value</code> String: nil or email address</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="email-3D-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">email=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">candidate_sheet</span>.<span class="ruby-identifier">candidate_email</span> = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-email_changed-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">email_changed?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns false - used by Factory Girl</p>

<h3 id="method-i-email_changed-3F-label-Returns-3A">Returns:<span><a href="#method-i-email_changed-3F-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="email_changed-3F-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 279</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">email_changed?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-email_required-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">email_required?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns false - used by Factory Girl</p>

<h3 id="method-i-email_required-3F-label-Returns-3A">Returns:<span><a href="#method-i-email_required-3F-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="email_required-3F-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">email_required?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-emails" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">emails</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Array of email addresses ignoring the fact they could be nil - devise</p>

<h3 id="method-i-emails-label-Returns-3A">Returns:<span><a href="#method-i-emails-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of Stings</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="emails-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">emails</span>
  <span class="ruby-node">&quot;#{candidate_sheet.candidate_email}, #{candidate_sheet.parent_email_1},#{candidate_sheet.parent_email_2}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get_candidate_event" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_candidate_event</span><span
            class="method-args">(event_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns candidate_event whose name is event_name</p>

<h3 id="method-i-get_candidate_event-label-Parameters-3A">Parameters:<span><a href="#method-i-get_candidate_event-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:event_name</code> owner of association</p>
</li></ul>

<h3 id="method-i-get_candidate_event-label-Returns-3A">Returns:<span><a href="#method-i-get_candidate_event-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="get_candidate_event-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 350</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_candidate_event</span>(<span class="ruby-identifier">event_name</span>)
  <span class="ruby-identifier">event</span> = <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">candidate_event</span><span class="ruby-operator">|</span> <span class="ruby-identifier">candidate_event</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">event_name</span> }
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">event</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;Could not find event: #{event_name}&quot;</span>)
    <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">candidate_event</span><span class="ruby-operator">|</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-identifier">candidate_event</span>.<span class="ruby-identifier">name</span> }
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unknown candidate_event named: #{event_name}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">event</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get_event_association" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_event_association</span><span
            class="method-args">(event_route_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns the association based on event name</p>

<h3 id="method-i-get_event_association-label-Parameters-3A">Parameters:<span><a href="#method-i-get_event_association-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:event_route_name</code> event name</p>
</li></ul>

<h3 id="method-i-get_event_association-label-Returns-3A">Returns:<span><a href="#method-i-get_event_association-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>ChristianMinistry</code>christian_ministry with validation errors</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="get_event_association-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 370</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_event_association</span>(<span class="ruby-identifier">event_route_name</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">event_route_name</span>.<span class="ruby-identifier">to_sym</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Route</span><span class="ruby-operator">::</span><span class="ruby-constant">BAPTISMAL_CERTIFICATE</span>
    <span class="ruby-identifier">baptismal_certificate</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Route</span><span class="ruby-operator">::</span><span class="ruby-constant">CHRISTIAN_MINISTRY</span>
    <span class="ruby-identifier">christian_ministry</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Route</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIRMATION_NAME</span>
    <span class="ruby-identifier">pick_confirmation_name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Route</span><span class="ruby-operator">::</span><span class="ruby-constant">SPONSOR_COVENANT</span>
    <span class="ruby-identifier">sponsor_covenant</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Route</span><span class="ruby-operator">::</span><span class="ruby-constant">RETREAT_VERIFICATION</span>
    <span class="ruby-identifier">retreat_verification</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Other</span><span class="ruby-operator">::</span><span class="ruby-constant">CANDIDATE_INFORMATION_SHEET</span>
    <span class="ruby-identifier">candidate_sheet</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Other</span><span class="ruby-operator">::</span><span class="ruby-constant">PARENT_INFORMATION_MEETING</span>, <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Other</span><span class="ruby-operator">::</span><span class="ruby-constant">ATTEND_RETREAT</span>, <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Other</span><span class="ruby-operator">::</span><span class="ruby-constant">CANDIDATE_COVENANT_AGREEMENT</span>, <span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Other</span><span class="ruby-operator">::</span><span class="ruby-constant">SPONSOR_AND_CANDIDATE_CONVERSATION</span>
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unknown event association: #{event_route_name}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-keep_bc_errors" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keep_bc_errors</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>keep only first, middle, and last names error messages</p>
          
          

          
          <div class="method-source-code" id="keep_bc_errors-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">keep_bc_errors</span>
  <span class="ruby-identifier">bc_errors</span> = <span class="ruby-node">%w[First Middle Last]</span>
  <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">messages</span>[<span class="ruby-value">:base</span>].<span class="ruby-identifier">clone</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">messages</span>[<span class="ruby-value">:base</span>].<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">msg</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">bc_errors</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">xxx</span><span class="ruby-operator">|</span> <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">xxx</span> }.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-late_events" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">late_events</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns array of late events</p>

<h3 id="method-i-late_events-label-Returns-3A">Returns:<span><a href="#method-i-late_events-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Array</code> of late candidate events</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="late_events-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 451</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">late_events</span>
  <span class="ruby-identifier">candidate_events</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:late?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-password_changed-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">password_changed?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>whether the password has been changed - allows admin to know whether the
candidate has signed in.</p>

<h3 id="method-i-password_changed-3F-label-Returns-3A">Returns:<span><a href="#method-i-password_changed-3F-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="password_changed-3F-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 289</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">password_changed?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">valid_password?</span>(<span class="ruby-constant">Event</span><span class="ruby-operator">::</span><span class="ruby-constant">Other</span><span class="ruby-operator">::</span><span class="ruby-constant">INITIAL_PASSWORD</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-password_reset_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">password_reset_message</span><span
            class="method-args">(candidate_mailer_text)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>get expanded password reset instructions</p>

<h3 id="method-i-password_reset_message-label-Parameters-3A">Parameters:<span><a href="#method-i-password_reset_message-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate_mailer_text</code> expands instructions</p>
</li></ul>

<h3 id="method-i-password_reset_message-label-Returns-3A">Returns:<span><a href="#method-i-password_reset_message-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>String</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="password_reset_message-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 577</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">password_reset_message</span>(<span class="ruby-identifier">candidate_mailer_text</span>)
  <span class="ruby-identifier">token</span> = <span class="ruby-identifier">set_reset_password_token</span>
  <span class="ruby-identifier">candidate_mailer_text</span>.<span class="ruby-identifier">token</span> = <span class="ruby-identifier">token</span>
  <span class="ruby-identifier">devise_mailer</span>.<span class="ruby-identifier">reset_password_instructions</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">token</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_on_create_confirmation_instructions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_on_create_confirmation_instructions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>turn off sending verify instructions until admin sends it.</p>
          
          

          
          <div class="method-source-code" id="send_on_create_confirmation_instructions-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">send_on_create_confirmation_instructions</span>() <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_reset_password_instructions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_reset_password_instructions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This comes via devise/password_controller The user has clicked on the
Forgot Password link on the sign in pane</p>

<h3 id="method-i-send_reset_password_instructions-label-Returns-3A">Returns:<span><a href="#method-i-send_reset_password_instructions-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>password</code> reset token</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="send_reset_password_instructions-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 561</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">send_reset_password_instructions</span>
  <span class="ruby-identifier">send_grid_mail</span> = <span class="ruby-constant">SendGridMail</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, [<span class="ruby-keyword">self</span>])
  <span class="ruby-identifier">_response</span>, <span class="ruby-identifier">token</span> = <span class="ruby-identifier">send_grid_mail</span>.<span class="ruby-identifier">reset_password</span>
  <span class="ruby-identifier">token</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-validate_creation_complete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">validate_creation_complete</span><span
            class="method-args">(association_class)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Validate if association_class event is complete by adding validation errors
to active record</p>

<h3 id="method-i-validate_creation_complete-label-Parameters-3A">Parameters:<span><a href="#method-i-validate_creation_complete-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:association_class</code> association for self related to event</p>
</li></ul>

<h3 id="method-i-validate_creation_complete-label-Returns-3A">Returns:<span><a href="#method-i-validate_creation_complete-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="validate_creation_complete-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">validate_creation_complete</span>(<span class="ruby-identifier">association_class</span>)
  <span class="ruby-identifier">complete</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">association</span> = <span class="ruby-identifier">association_class</span>.<span class="ruby-identifier">validate_creation_complete</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-identifier">association</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">full_messages</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">errors</span>[<span class="ruby-value">:base</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>
    <span class="ruby-identifier">complete</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">complete</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-validate_event_complete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">validate_event_complete</span><span
            class="method-args">(association_class)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Validate if association_class event is complete by adding validation errors
to active record</p>

<h3 id="method-i-validate_event_complete-label-Parameters-3A">Parameters:<span><a href="#method-i-validate_event_complete-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:association_class</code> association for self related to event</p>
</li></ul>

<h3 id="method-i-validate_event_complete-label-Returns-3A">Returns:<span><a href="#method-i-validate_event_complete-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Boolean</code></p>
</li></ul>
          
          

          
          <div class="method-source-code" id="validate_event_complete-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">validate_event_complete</span>(<span class="ruby-identifier">association_class</span>)
  <span class="ruby-identifier">complete</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">association</span> = <span class="ruby-identifier">association_class</span>.<span class="ruby-identifier">validate_event_complete</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-identifier">association</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">full_messages</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">errors</span>[<span class="ruby-value">:base</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>
    <span class="ruby-identifier">complete</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">complete</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-verifiable_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">verifiable_info</span><span
            class="method-args">(_candidate)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>information to be verified by admin</p>

<h3 id="method-i-verifiable_info-label-Parameters-3A">Parameters:<span><a href="#method-i-verifiable_info-label-Parameters-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>:candidate</code> owner of this association</p>
</li></ul>

<h3 id="method-i-verifiable_info-label-Returns-3A">Returns:<span><a href="#method-i-verifiable_info-label-Returns-3A">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>Hash</code> of information to be verified</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="verifiable_info-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">verifiable_info</span>(<span class="ruby-identifier">_candidate</span>)
  {}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-will_save_change_to_email-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">will_save_change_to_email?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>5.0 hack with devise</p>
          
          

          
          <div class="method-source-code" id="will_save_change_to_email-3F-source">
            <pre><span class="ruby-comment"># File app/models/candidate.rb, line 601</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">will_save_change_to_email?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.0.4.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

